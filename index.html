<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Intern tutorial</title>
	</head>
	<body>
		<p id="greeting">Please enter your name</p>
		<form id="loginForm">
			<input id="nameField" type="text" placeholder="Your name">
			<input type="submit" value="Submit">
		</form>

		</br>

		<p>API</p>
		<form id="apiForm">
			<input id="btnApiIntegration" type="submit" value="API Integration">
			<p id="apiResult"># api result</p>
		</form>

		<script>
			var dojoConfig = {
				packages: [ {
					name: 'app',
					location: location.pathname.replace(/[^\/]*$/, 'app')
				} ]
			};
		</script>
		<script src="./node_modules/jquery/dist/jquery.js" type="text/javascript"></script>
		<script>
			var mockApiUrl = "http://www.mocky.io/v2/579b9d71100000b905dc8a8d";

			$("#apiForm").submit(function(event) {
				event.preventDefault();



				$.ajax({
				  url: mockApiUrl,
				  beforeSend: function( xhr ) {

				  }
				})
			  .done(function( data ) {
			    if ( console && console.log ) {
						// var apiResponse = JSON.stringify(data);
						$("#apiResult").text(data.user.name);
			    }
			  })
				.fail(function() {
					$("#apiResult").text("error");
				});
			});
			// require(
			// 	[
			// 		'dojo/on',
			// 		'dojo/dom',
			// 		// 'app/hello',
			// 		"dojo/request"
			// 	],
			// 	function (
			// 		on,
			// 		dom,
			// 		// hello,
			// 		request
			// 	) {
			// 	var greeting = dom.byId('greeting'),
			// 		loginForm = dom.byId('loginForm'),
			// 		nameField = dom.byId('nameField');
			// 	var apiForm = dom.byId("apiForm"),
			// 		apiResult = dom.byId(""),
			// 		mockApiUrl = "http://www.mocky.io/v2/579b64ea110000b01fcb776c";
			//
			//
			// 	on(loginForm, 'submit', function (event) {
			// 		// event.preventDefault();
			// 		// greeting.innerHTML = hello.greet(nameField.value).replace(/&/g, '&amp;').replace(/</g, '&lt;');
			// 		// nameField.value = '';
			// 	});
			//
			// 	on(apiForm, "submit", function(event) {
			// 		event.preventDefault();
			// 		request(mockApiUrl).then(function(text) {
			// 			console.log(text);
			// 			apiResult.innerHTML = "deu bao";
			// 		});
			// 	});
			//
			//
			// 	document.body.className += ' loaded';
			// });
		</script>
	</body>
</html>
